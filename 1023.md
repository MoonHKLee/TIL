롤백테스트 진행시 기존 비즈니스 로직속에서 단위별로 잘 이루어지고 있는지 잘 될까 궁금증이 생긴다. aspectj에서 바이트코드를 조작하는가? 이런거 조금 궁금하긴했습니다.
롤백테스트는 정상적으로 다 커밋된 상황과 중간의 예외발생시 롤백되틑 상황 이거 다 롤백시키는 구조다.
디비에 쿼리가 한번도 날라가지 않은채로 테스트가 종료가 될수도 있다. jpa사용시에 1차캐시 막이런거를 사용하다보면 문제가 생길수잇기 때문에 flush이것에 대해서 잘 파악을 하고 공부를 하셔야한다. 테스트를 만들때 내 작업이 제대로 flush가 됐을까? 이것을 찾아보아야하고 안되었으면 flush를 강제로 진행해주시면 된다.

service와 serviceimpl 이건 그냥 옛날부터 관례적인 이름인데 더좋은 용어가 있으면 쓰면된다. pattern of enterprise architecture라는 책에 마틴파울러가 작성한 책에 그게 나온다.
서비스는 나중에 커지게되는데 그걸 fat service라고 한다. 서비스가 너무 커진다는 생각이 들면 분할해보려고 노력을 한번 해보시면 돟을것같습니다. 근데 영어로 이름을 지어야하는데 이게 영어로 생각ㅎ을하는게 원래 조금어렵다. 그냥 만만할때는 impl사용하신다음에 나중에는 좋은 이름으로 변경해도 좋을것같다.

ㅁㄴㅇ

저도 써본게 설계구조안에 집어넣기는 애매하다. 보안과 로깅 이게 제일 많이 쓰이는것같다. 시간측정 이런거라든가. aop의 장점은 구현했다가 빼도 사실 아무런 문제가 없기때문

스프링도 스프링이지만 테스트 기술에 대해서 많이 나오는게 좋다고생각한다. 다잇 나는 토비의스프링으로부터 테스트코드를 배우기 시작해서 근데 요즘에는 테스트 이야기가 많이나와서 뭐 기술에 집중하는것같다. 스프링부트 테스트쪽에서 랜덤포트 테스트 이런거를 활용하면 커밋이 잘 되는지 이런거로도 테스트를 해보면 롤백이 잘 되는지, e2e테스트 인수테스트 그런 키워드로 찾아보시면 테스트코드 작성에 많은 도움이 되실것 같네요. 

디버거를 잘쓰는것도 개발자의 실력이다. 로그를 살피다보면 굉장히 많은 코드를 봐야 할 수도 있다. 훨씬 더 복잡한 상황에서는 디버거가 더 비효율적인 상황도 있다 잘쓰시는걸 권장드린다. 당연히 테스트를 안만들고 전체 돌리다보니까 디버거로 한땀한땀 하다보면 너무힘들죠 일단은 테스트를 작성하고 부족한부분을 로거로 확인하고 그래도 안되면 디버거를 써보면 좋을것 같다. 디버거는 코드를 멈추는거기때문에 오히려 디버거때문에 오류가 나는 상황도 생길 수 있다. 로그를 거는 순간에 버그가 사라지는 상황도 생길수 있다. 하지만 일반적으로 없다.

트랜잭션 격리수준에 대한 건 데이터베이스의 너무 기초 이야기라서 아무거나 찾아보셔도 된다. 

필터 인터셉터와 aop 뭐가다른가.

필터 인터셉터는 웹 영역에서 가능한 부분이다. 

인터페이스 사용하지 않고 aop적용시 5.0이전 생성자 2번 호출 final 클래스 안되는문제 private문제 프록시가 프록시 뒷단의 타겟오브젝트라고 이야기하죠 자기가 자기자신 호출하는경우에 프록시 를 타지 않는다 이런거만 주의하면 괜찮지 않나 싶습니다. 동적으로 생성될때 주의해야할 점은 다 비슷하다. aop는 눈에 보이지 않으니까 코드상에서 없고 선언적으로 정의되어있기 때문에 엉뚱한데 적용되거나 적용안되거나 한다. 그리고 stack trace를 까보면 aop때문에 굉장히 많은 내용이 다 합쳐져서 나오는데 이건 어쩔수 없는 부분인것같다.

@EventListener 트랜잭션과 같이 사용해야 할 때 주의해야 할점 이런게 있다. 사실 스프링에서 이벤트를 사용하는거 제책에도 나온다. 요즘엔 도메인 이벤트 등장하면서 이야기가 나온다. 스프링의 application event를 퍼블리싱하고 리스닝할수있는 기능이 있다는거에 대해서는 나온다. 

7장을 쓰려고 마음먹은 이유는 스프링 기본제공 하는 것 말고 DI를 스스로 하는 코드를 만들지 않는분들이 많아서 안써가지고 우리가 직접  DI를 적용해서 코드를 만들면 어떤게 가능할것인가 그걸 예제로 만들면 재미있을것같아서 만들어보았다. 이너빈같은거 모르시죠? 내가 내자신을 DI 할수있을까? 스프링에서 쓰는 기법입니다. 다기가 자기자신을 DI할 수 있는데 어디서쓰는지
